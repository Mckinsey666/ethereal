(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(e,t,a){},409:function(e,t,a){},464:function(e,t,a){e.exports=a(957)},469:function(e,t,a){},470:function(e,t,a){},487:function(e,t,a){},492:function(e,t,a){a(493),a(354)},517:function(e,t){},519:function(e,t){},551:function(e,t){},552:function(e,t){},620:function(e,t){},725:function(e,t){},886:function(e,t,a){},948:function(e,t,a){},957:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),i=a.n(l),o=a(45),c=a(91),s=a(153),m=a(23),u=a(30),d=a(116),p=a(440),E=a(7),f=(a(469),a(34)),g=a(27),v=a(37),b=a(35),h=a(36),y=(a(470),a(485)),k=a(1026),I=a(1017),S=a(1032),O=a(120),C=a.n(O),j=a(1033),w={textField:{width:"100%"}},x=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={value:""},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(j.a,{label:this.props.label,variant:"outlined",style:w.textField,value:this.props.value,onChange:this.props.handleChange,InputProps:{endAdornment:this.props.adornment}}))}}]),t}(r.a.Component),N=a(31),D=a(28);function P(){var e=Object(N.a)(["\n    query userCollections(\n        $userID: String!\n    ){\n        userCollections(\n            userID: $userID\n        ){\n            id\n        }\n    }\n"]);return P=function(){return e},e}function U(){var e=Object(N.a)(["\n    query users(\n            $name: String!\n        ){\n            users(\n                name: $name\n            ){\n                id\n                name\n                avatar\n            }\n        }\n"]);return U=function(){return e},e}function T(){var e=Object(N.a)(["\n    query collections(\n        $title: String\n        $collectionId: String\n    ){\n        collections(\n            title: $title\n            collectionId: $collectionId\n        ){\n            id\n            title\n            description\n            likes\n            tags\n            bookmarks {\n                id\n                title\n                description\n                url\n                icon\n                shortUrl\n            }\n            publishedTime\n            author {\n                name\n                avatar\n            }\n        }\n    }\n"]);return T=function(){return e},e}function A(){var e=Object(N.a)(["\n    query collections(\n        $collectionId: String\n    ){\n        collections(\n            collectionId: $collectionId\n        ){\n            title\n            description\n            tags \n        }\n    }\n"]);return A=function(){return e},e}function $(){var e=Object(N.a)(["\nquery user($userID: String!){\n    user(\n        userID: $userID\n    ){\n        name\n        avatar\n        followers {\n            name\n            avatar\n        }\n        following {\n            name\n            avatar\n        }\n        collections {\n            id\n            title\n            description\n            likes\n            tags\n            bookmarks {\n                id\n                title\n                description\n                url\n                icon\n                shortUrl\n            }\n            state\n            publishedTime      \n        }\n    }\n}\n"]);return $=function(){return e},e}function L(){var e=Object(N.a)(["\n    query user($userID: String!){\n        user(\n            userID: $userID\n        ){\n            collections {\n                state\n            }\n        }\n    }\n"]);return L=function(){return e},e}function F(){var e=Object(N.a)(["\nquery {\n    collections{\n        id\n        title\n        description\n        likes\n        tags\n        bookmarks {\n            id\n            title\n            description\n            url\n            icon\n            shortUrl\n        }\n        publishedTime\n        author {\n            id\n            name\n            avatar\n        }\n    }\n}"]);return F=function(){return e},e}var B=Object(D.a)(F()),R=Object(D.a)(L()),z=Object(D.a)($()),q=(Object(D.a)(A()),Object(D.a)(T()),Object(D.a)(U())),M=(Object(D.a)(P()),a(56)),H=a(20),V=a(1012),W=a(441),_=a(1006),Q=a(4),G=a(1013),J=a(1014),X=a(1015),Y=a(1016),K=a(1018),Z=a(1039),ee=a(1040),te=a(67),ae=a(1011),ne=a(1010),re=a(73),le=a.n(re),ie=a(122),oe=a.n(ie),ce=a(427),se=a.n(ce),me=a(93),ue=a(1005),de=a(1007),pe=a(1009),Ee=a(1008),fe=Object(_.a)(function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}),ge=function(e){var t=fe(),a=e.bookmarks;return console.log(a),r.a.createElement(ue.a,{className:t.root},a.map(function(e,a){var n=e.title,l=e.icon,i=e.url,o=e.shortUrl;return r.a.createElement("div",{key:a},r.a.createElement(de.a,{alignItems:"flex-start"},r.a.createElement(Ee.a,null,r.a.createElement(y.a,{imgProps:{title:i},src:l})),r.a.createElement(pe.a,{primary:n,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{component:"span",variant:"body2",className:t.inline,color:"textSecondary"},o))})),r.a.createElement(ne.a,{variant:"inset",component:"li"}))}))},ve=Object(W.a)({typography:{fontFamily:"Quicksand",color:"#4E5167"}}),be=Object(_.a)(function(e){return{card:{maxWidth:"1"},media:{height:0,paddingTop:"100%",borderRadius:"1px"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:"#4E5167"},chip:{margin:e.spacing(1),backgroundColor:ae.a[100]}}}),he=function(e){var t=be(ve),a=r.a.useState(!1),n=Object(H.a)(a,2),l=n[0],i=n[1],o=r.a.useState(null),c=Object(H.a)(o,2),s=c[0],m=c[1],u=e.collection,d=(u.id,u.author),p=u.title,E=u.description,f=u.bookmarks,g=u.tags,v=(u.likes,u.publishedTime);return s?s===e.userID?r.a.createElement(me.a,{to:{pathname:"/myprofile",id:s}}):r.a.createElement(me.a,{to:{pathname:"/user/".concat(s),currentUserId:s}}):r.a.createElement(V.a,{theme:ve},r.a.createElement(G.a,{className:t.card},r.a.createElement(J.a,{avatar:d.avatar?r.a.createElement(y.a,{"aria-label":"author",className:t.avatar,src:d.avatar}):r.a.createElement(y.a,{className:t.avatar},r.a.createElement(le.a,{className:t.icon})),title:p,subheader:"Published by ".concat(d.name,". At ").concat(v,".")}),r.a.createElement(ne.a,{variant:"inset"}),r.a.createElement(X.a,null,r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Description "),r.a.createElement(te.a,{variant:"body1",color:"textPrimary"}," ",E," ")),r.a.createElement(Y.a,{disableSpacing:!0},r.a.createElement(I.a,{onClick:function(){m(d.id),console.log("authorID",d.id)}},r.a.createElement(se.a,null)),r.a.createElement(te.a,null," ","Visit user profile"," "),r.a.createElement(I.a,{className:Object(Q.a)(t.expand,Object(M.a)({},t.expandOpen,l)),onClick:function(){i(!l)},"aria-expanded":l,"aria-label":"Show more"},r.a.createElement(ee.a,{title:"Expand to see bookmarks"},r.a.createElement(oe.a,null)))),r.a.createElement(ne.a,{variant:"middle"}),r.a.createElement(X.a,null,r.a.createElement(te.a,{variant:"body2",color:"textSecondary"},"Tags",g.map(function(e,a){return r.a.createElement(Z.a,{id:a,size:"small",label:e,clickable:!0,className:t.chip})}))),r.a.createElement(K.a,{in:l,timeout:"auto",unmountOnExit:!0},r.a.createElement(X.a,null," ",r.a.createElement(ge,{bookmarks:f})," "))))},ye={PRIVATE:-1,PUBLISHED:1,FAVORITE:0},ke=(a(487),function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).refetch=null,a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.refetch&&this.refetch()}},{key:"render",value:function(){var e=this,t=this.props.id;return r.a.createElement(m.c,{query:B},function(a){var n=a.loading,l=a.error,i=a.data,o=(a.subscribeToMore,a.refetch);if(n)return r.a.createElement("p",null,"Loading...");if(l)return r.a.createElement("p",null,"Error :(((");e.refetch=o;for(var c=i.collections.map(function(e,a){return r.a.createElement("div",{key:a,className:"Feedcard-container"},r.a.createElement(he,{userID:t,collection:e}))}),s=[],m=[],u=0;u<3;++u)s.push(Array(0));for(var d=0;d<c.length;++d)s[d%3].push(c[d]);for(var p=0;p<s.length;++p)m.push(r.a.createElement("div",{key:p,className:"Feeds-row"},s[p]));return r.a.createElement("div",{className:"Feeds animated fadeIn slow"},r.a.createElement("div",{className:"Feeds-title"},"Feeds"),r.a.createElement(ne.a,{style:{marginBottom:"20px"}}),r.a.createElement("div",{className:"Feeds-flex-container"},r.a.createElement("div",{className:"Feeds-margin-block"}),m,r.a.createElement("div",{className:"Feeds-margin-block"})),r.a.createElement(ne.a,{style:{marginBottom:"20px"}}))})}}]),t}(r.a.Component)),Ie=a(429),Se=a(106),Oe=a.n(Se),Ce=(a(285),a(1025)),je=a(959),we=a(1023),xe=a(1024),Ne=a(1021),De=a(1019),Pe=a(1035),Ue=a(1020),Te=a(1038),Ae=a(430),$e=a.n(Ae),Le=a(1022);function Fe(){var e=Object(N.a)(["\n    mutation deleteCollection(\n        $collectionId: String!\n    ){\n        deleteCollection(\n            collectionId: $collectionId\n        )\n    }\n"]);return Fe=function(){return e},e}function Be(){var e=Object(N.a)(["\n    mutation addCollection(\n        $userID: String!\n        $collectionId: String\n        $collections: favoriteCollectionInput\n    ){\n        addCollection(\n            userID: $userID\n            collectionId: $collectionId\n            data: {\n                collections: $collections\n            }\n        )\n    }\n"]);return Be=function(){return e},e}function Re(){var e=Object(N.a)(["\n    mutation importCollections(\n        $userID: String!\n        $collections: [CollectionInput!]\n    ){\n        importCollections(\n            userID: $userID\n            data: {\n                collections: $collections\n            }\n        )\n    }\n"]);return Re=function(){return e},e}function ze(){var e=Object(N.a)(["\n    mutation addBookmark(\n        $collectionId: String!\n        $url: String!\n        $title: String!\n    ){\n        addBookmark(\n            collectionId: $collectionId\n            data: {\n                url: $url\n                title: $title\n            }\n        ){\n            id\n            title\n            description\n            url\n            icon\n            shortUrl\n        }\n    }\n"]);return ze=function(){return e},e}function qe(){var e=Object(N.a)(["\n    mutation updateCollection(\n        $collectionId: String!\n        $state: Int!\n    ){\n        updateCollection(\n            collectionId: $collectionId\n            data: {\n                state: $state\n            }\n        ){\n            id\n            title\n        }\n    }\n"]);return qe=function(){return e},e}function Me(){var e=Object(N.a)(["\n    mutation updateCollection(\n        $collectionId: String!\n        $title: String!\n        $description: String!\n        $state: Int!\n        $publishedTime: String\n    ){\n        updateCollection(\n            collectionId: $collectionId\n            data: {\n                title: $title\n                description: $description\n                state: $state\n                publishedTime: $publishedTime\n            }\n        ){\n            id\n            title\n        }\n    }\n"]);return Me=function(){return e},e}function He(){var e=Object(N.a)(["\n    mutation deleteBookmark(\n        $id: String!\n    ){\n        deleteBookmark(\n            id: $id\n        ){\n            id\n            title\n            description\n            url\n            icon\n            shortUrl\n        }\n    }\n"]);return He=function(){return e},e}function Ve(){var e=Object(N.a)(["\n    mutation createUser(\n        $id: String!\n        $name: String!\n        $email: String!\n        $password: String!\n        $avatar: String!\n    ){\n        createUser(\n            data: {\n                id: $id\n                name: $name\n                email: $email\n                password: $password\n                avatar: $avatar\n            }\n        ){\n            status\n        }\n    }\n"]);return Ve=function(){return e},e}function We(){var e=Object(N.a)(["\n    mutation loginCheck(\n        $email: String!\n        $password: String!\n    ){\n        loginCheck(\n            data: {\n                email: $email\n                password: $password\n            }\n        ){\n            status\n            id\n        }\n    }\n"]);return We=function(){return e},e}var _e=Object(D.a)(We()),Qe=Object(D.a)(Ve()),Ge=Object(D.a)(He()),Je=Object(D.a)(Me()),Xe=Object(D.a)(qe()),Ye=Object(D.a)(ze()),Ke=Object(D.a)(Re()),Ze=Object(D.a)(Be()),et=Object(D.a)(Fe());function tt(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var at=[{id:"favicon",icon:!0,disablePadding:!1,label:""},{id:"title",icon:!1,disablePadding:!0,label:"Title"},{id:"description",icon:!1,disablePadding:!1,label:"Description"},{id:"shortUrl",icon:!1,disablePadding:!1,label:"Provided by"},{id:"function",icon:!0,disablePadding:!1,label:""}];function nt(e){e.onSelectAllClick;var t=e.order,a=e.orderBy,n=(e.numSelected,e.rowCount,e.onRequestSort);return r.a.createElement(De.a,null,r.a.createElement(Ue.a,null,at.map(function(e){return r.a.createElement(Ne.a,{key:e.id,align:e.icon?"justify":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t},r.a.createElement(Te.a,{active:a===e.id,direction:t,onClick:(l=e.id,function(e){n(e,l)})},e.label));var l})))}var rt=Object(_.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{width:"100%"},tableWrapper:{overflowX:"auto"},colorSwitchBase:{color:Le.a[300],"&$colorChecked":{color:Le.a[500],"& + $colorBar":{backgroundColor:Le.a[500]}}}}});function lt(e){var t,a=rt(),n=r.a.useState("asc"),l=Object(H.a)(n,2),i=l[0],o=l[1],c=r.a.useState("calories"),s=Object(H.a)(c,2),u=s[0],d=s[1],p=r.a.useState([]),E=Object(H.a)(p,2),f=E[0],g=E[1],v=r.a.useState(0),b=Object(H.a)(v,2),h=b[0],k=b[1],S=r.a.useState(!0),O=Object(H.a)(S,2),C=O[0],j=(O[1],r.a.useState(5)),w=Object(H.a)(j,2),x=w[0],N=w[1],D=e.bookmarks;var P=x-Math.min(x,D.length-h*x);return r.a.createElement("div",{className:a.root},r.a.createElement(je.a,{className:a.paper},r.a.createElement("div",{className:a.tableWrapper},r.a.createElement(we.a,{className:a.table,"aria-labelledby":"tableTitle",size:C?"small":"medium"},r.a.createElement(nt,{numSelected:f.length,order:i,orderBy:u,onSelectAllClick:function(e){if(e.target.checked){var t=D.map(function(e){return e.name});g(t)}else g([])},onRequestSort:function(e,t){o(u===t&&"desc"===i?"asc":"desc"),d(t)},rowCount:D.length}),r.a.createElement(xe.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(D,function(e,t){return"desc"===e?function(e,a){return tt(e,a,t)}:function(e,a){return-tt(e,a,t)}}(i,u)).slice(h*x,h*x+x).filter(function(t){return t.title.includes(e.filterStr)}).map(function(a,n){var l,i=a.id,o=a.title,c=a.description,s=a.shortUrl,u=a.url,d=a.icon,p=(l=o,-1!==f.indexOf(l));return r.a.createElement(Ue.a,{hover:!0,"aria-checked":p,tabIndex:-1,key:o,selected:p},r.a.createElement(Ne.a,{align:"justify"},r.a.createElement(y.a,{imgProps:{title:u},src:d})),r.a.createElement(Ne.a,{align:"left"},r.a.createElement("a",{href:u,target:"_blank"}," ",o," ")),r.a.createElement(Ne.a,{align:"left"},c),r.a.createElement(Ne.a,{align:"left"},s),r.a.createElement(Ne.a,{align:"justify"},e.isSelf?r.a.createElement(ee.a,{title:"Delete"},r.a.createElement(m.b,{mutation:Ge},function(a){return t=a,r.a.createElement(I.a,{"aria-label":"Delete",onClick:function(){return function(a){console.log(a),t({variables:{id:a}}),e.onDeleteBookmark()}(i)}},r.a.createElement($e.a,null))})):r.a.createElement("div",null)))}),P>0&&r.a.createElement(Ue.a,{style:{height:49*P}},r.a.createElement(Ne.a,{colSpan:6}))))),r.a.createElement(Pe.a,{rowsPerPageOptions:[5,10,25],component:"div",count:D.length,rowsPerPage:x,page:h,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){N(+e.target.value)}})))}var it=Object(_.a)(function(e){var t;return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",display:"column",justifyContent:"center",color:e.palette.text.secondary,width:"90%",margin:"0 auto"},textField:{borderColor:"#4E5167",color:"#4E5167",outlineColor:"#4E5167","&:hover":{color:"#4E5167"}},typography:(t={fontSize:"1.5em",color:"#4E5167"},Object(M.a)(t,"fontSize","2em"),Object(M.a)(t,"fontFamily","Quicksand"),t),typoStar:{paddingRight:"10px"},chip:{margin:e.spacing(1),backgroundColor:ae.a[100]},button:Object(M.a)({borderColor:ae.a[100],color:"#4E5167"},"borderColor","#4E5167"),div:{display:"flex",justifyContent:"left",marginRight:"auto"},div1:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},div2:{display:"flex",justifyContent:"center",alignItems:"center"},div3:{display:"flex",justifyContent:"left",marginRight:"auto"},div4:{display:"flex",direction:"row",alignItems:"center"},div5:{width:"100%",height:"15px"},title:{fontFamily:"Quicksand",fontSize:"2em",color:"#4E5167"},descriptionInput:{width:"50%"}}});function ot(e){var t=it(),a=e.collection,n=a.id,l=a.title,i=a.description,o=a.bookmarks,c=a.tags,s=a.publishedTime,u=(a.state,e.whoAmI),d=e.userID;console.log("inside",e.collection);var p=r.a.useState(""),E=Object(H.a)(p,2),f=E[0],g=E[1];return r.a.createElement("div",{style:{width:"100%"},className:t.root},r.a.createElement(Ce.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Ce.a,{container:!0,xs:12,sm:12},r.a.createElement(je.a,{className:t.paper},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement("div",{className:t.div1},r.a.createElement("div",{className:t.div},r.a.createElement("div",{className:t.title},l)),r.a.createElement(j.a,{id:"outlined-search",placeholder:"Search in Collection",type:"search",className:t.textField,margin:"normal",variant:"outlined",InputProps:{startAdornment:r.a.createElement(I.a,null," ",r.a.createElement(C.a,null)," ")},InputLabelProps:{shrink:!0},onChange:function(e){g(e.target.value)},value:f})),r.a.createElement(te.a,{variant:"body2",color:"textSecondary",paragraph:!0},"Tags",c.map(function(e){return r.a.createElement(Z.a,{size:"small",label:e,clickable:!0,className:t.chip})}),r.a.createElement(ne.a,{variant:"middle"})),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Published Date "),r.a.createElement(te.a,{variant:"body1",color:"textPrimary",paragraph:!0},r.a.createElement("div",{className:t.div3},r.a.createElement("div",{className:t.div3}," ",s," "),"Me"===u?r.a.createElement(m.b,{mutation:Xe},function(a){return r.a.createElement(ee.a,{title:"Add '".concat(l,"' to your private collection")},r.a.createElement(k.a,{variant:"outlined",size:"medium",className:t.button,onClick:function(t){a({variables:{collectionId:n,state:ye.PRIVATE}}),e.onClickStore()}},"Store Up"))}):r.a.createElement(m.b,{mutation:Ze},function(e){return console.log(o),r.a.createElement(ee.a,{title:"Add '".concat(l,"' to your favorite collection")},r.a.createElement(k.a,{variant:"outlined",size:"medium",className:t.button,onClick:function(t){e({variables:{userID:d,collectionId:n,collections:{title:l,description:i,tags:c,bookmarks:o.map(function(e){return delete e.__typename,e})}}})}},"Favorite"))}),r.a.createElement("div",{style:{marginLeft:"2%"}}))),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Description "),r.a.createElement(te.a,{variant:"body1",color:"textPrimary",paragraph:!0},i),r.a.createElement("div",{className:t.div2},r.a.createElement("div",{className:t.div3}," ",r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Bookmarks ")," ")),r.a.createElement(lt,{filterStr:f,bookmarks:o,isSelf:!1}))))))}var ct={avatar:{width:"240px",height:"240px"},icon:{fontSize:"20px"},listItem:{fontSize:"18px",fontFamily:"Quicksand",fontWeight:"100"},listItemText:{width:"50%"},listItemNum:{marginRight:"0",marginLeft:"auto",color:"rgb(183, 183, 183)"},rightAlign:{marginRight:"0",marginLeft:"auto"}},st=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).chooseCollection=function(e){a.setState({currCollectionId:e})},a.toggleFollow=function(){a.setState(function(e){return{following:!e.following}})},a.state={currCollectionId:void 0,following:!0},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.match.params,n=t.currentUserId;return n||(Object(Ie.a)("currentUserId"),n=this.props.location.currentUserId),r.a.createElement(m.c,{query:z,variables:{userID:a.id.toString()}},function(t){var a=t.loading,l=t.error,i=t.data;t.subscribeToMore,t.refetch;if(a)return r.a.createElement("p",null,"Loading...");if(l)return r.a.createElement("p",null,"Error :(((");var o=i.user,c=o.name,s=o.avatar,m=o.collections,u=m.find(function(t){return t.id===e.state.currCollectionId}),d=m.filter(function(e){return e.state===ye.PUBLISHED});return r.a.createElement("div",{className:"UserProfile animated fadeIn slow"},r.a.createElement("div",{className:"UserProfile-flex-container"},r.a.createElement("div",{className:"UserProfile-margin-block"}),r.a.createElement("div",{className:"UserProfile-left"},r.a.createElement("div",{className:"inner-container"},s?r.a.createElement(y.a,{src:s,style:ct.avatar}):r.a.createElement(y.a,{style:ct.avatar},r.a.createElement(le.a,{style:ct.avatar})),r.a.createElement("div",{className:"follows-container"},r.a.createElement("div",{className:"top-block"},c),r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement(Oe.a,{style:ct.icon})),r.a.createElement("div",{style:ct.rightAlign},d.length," Collections")))),r.a.createElement("div",{className:"public-card-container"},u?r.a.createElement(ot,{collection:u,userID:n.toString()}):r.a.createElement("div",null))),r.a.createElement("div",{className:"UserProfile-right"},r.a.createElement("div",{className:"top-block"},"Collections"),r.a.createElement(ue.a,{style:{maxHeight:"100%",width:"80%",overflow:"auto"}},d.map(function(t,a){return r.a.createElement(de.a,{button:!0,key:a,style:ct.listItem,onClick:function(){return e.chooseCollection(t.id)}},r.a.createElement("div",{style:ct.listItemText},t.title),r.a.createElement("div",{style:ct.listItemNum},t.bookmarks.length))}))),r.a.createElement("div",{className:"UserProfile-margin-block"})))})}}]),t}(r.a.Component),mt=a(123),ut=a.n(mt),dt=a(210);function pt(){var e=Object(N.a)(["\n    subscription{\n        addBookmarkSub {\n            data{\n                collectionId\n                id\n                title\n                description\n                url\n                icon\n                shortUrl\n            }\n        }\n    }\n"]);return pt=function(){return e},e}function Et(){var e=Object(N.a)(["\n    subscription{\n        importCollectionSub{\n            bookmarks{\n                collectionId\n                id\n                title\n                description\n                url\n                icon\n                shortUrl\n            }\n            collections{\n                id\n                title\n                description\n                tags\n                state\n                publishedTime\n            }\n        }\n    }\n"]);return Et=function(){return e},e}function ft(){var e=Object(N.a)(["\n    subscription{\n        deleteBookmarkSub{\n            data{\n                collectionId\n                id\n                title\n                description\n                url\n                icon\n                shortUrl\n            }\n        }\n    }\n"]);return ft=function(){return e},e}Object(D.a)(ft()),Object(D.a)(Et()),Object(D.a)(pt());var gt=a(436),vt=a.n(gt),bt=a(434),ht=a.n(bt),yt=a(435),kt=a.n(yt),It=a(439),St=a.n(It),Ot=a(212),Ct=a.n(Ot),jt=a(438),wt=a.n(jt),xt=a(437),Nt=a.n(xt),Dt=a(89),Pt=a.n(Dt),Ut=(a(492),a(354));function Tt(e){var t={};Ut("a",e).each(function(e,a){var n=Ut(a),r=n.text(),l=n.attr("href"),i=function e(t){var a=t.closest("DL").prev();var n=a.text();return a.length>0&&n.length>0?[n].concat(e(a)):[]}(n);t[i]||(t[i]=[]),t[i].push([r,l]),console.log("url: ",l)});var a=[];return Object.keys(t).forEach(function(e){var n={};n.id=Pt()(),n.author={name:"Brian",avatar:"hello.com"},n.title=e,n.description="",n.tags=[],n.state=ye.PRIVATE,n.publishedTime=null,n.bookmarks=t[e].map(function(e){var t=Object(H.a)(e,2),a=t[0],n=t[1];return{id:Pt()(),title:a,url:n,icon:"",shortUrl:"",description:""}}),a.push(n)}),a}var At=a(1037),$t=a(1031),Lt=a(1029),Ft=a(1030),Bt=a(1028),Rt=a(1027),zt=a(431),qt=a.n(zt),Mt=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},Ht=Object(_.a)(function(e){return{fab:{backgroundColor:"#C0A5FF","&:hover":{backgroundColor:"#6B77E0"}},dialog:{color:"#4E5167"},button:Object(M.a)({borderColor:"#4E5167",color:"#4E5167"},"borderColor","#4E5167")}});function Vt(e){var t,a=Ht(),n=r.a.useState(!1),l=Object(H.a)(n,2),i=l[0],o=l[1],c=r.a.useState(""),s=Object(H.a)(c,2),u=s[0],d=s[1],p=r.a.useState(""),E=Object(H.a)(p,2),f=E[0],g=E[1],v=r.a.useState(""),b=Object(H.a)(v,2),h=b[0],y=b[1],I=e.collectionTitle,S=e.collectionId;function O(e){d(e.target.value)}function C(e){g(e.target.value.trim())}function w(){o(!0)}function x(){o(!1),g("")}var N=function(){var a=Object(dt.a)(ut.a.mark(function a(n){return ut.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.preventDefault(),!Mt(f)){a.next=10;break}return a.next=4,t({variables:{collectionId:S,url:f,title:u.trim()}});case 4:g(""),d(""),o(!1),e.onAddBookmark(),a.next=11;break;case 10:y("Url is invalid!!!");case 11:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(m.b,{mutation:Ye},function(e){return t=e,r.a.createElement("div",null,r.a.createElement("div",{className:"animated pulse infinite"},r.a.createElement(ee.a,{title:"Add a new bookmark"},r.a.createElement(Rt.a,{"aria-label":"Add",className:a.fab,onClick:w},r.a.createElement(qt.a,null)))),r.a.createElement("form",{onSubmit:N,id:"bookmark"},r.a.createElement(At.a,{open:i,onClose:x,"aria-labelledby":"form-dialog-title"},r.a.createElement(Bt.a,{id:"form-dialog-title",className:a.dialog},"Create new bookmark"),r.a.createElement(ne.a,{variant:"middle"}),r.a.createElement(Lt.a,null,"Add this page to the collection : ".concat(I),r.a.createElement(Ft.a,null),r.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"name",label:"URL",type:"url",fullWidth:!0,onChange:C,value:f,required:!0,inputProps:{required:"required"},helperText:h}),r.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"name",label:"Title",type:"text",fullWidth:!0,onChange:O,value:u,helperText:"Describe this bookmark"})),r.a.createElement($t.a,null,r.a.createElement(k.a,{onClick:x,className:a.button},"Cancel"),r.a.createElement(k.a,{type:"submit",form:"bookmark",className:a.button},"Create")))))}))}var Wt=a(211);a(433),a(432),Object(_.a)(function(e){return{fab:{backgroundColor:Le.a[200],"&:hover":{backgroundColor:Le.a[600]}},dialog:{color:"#4E5167"},button:Object(M.a)({borderColor:ae.a[100],color:"#4E5167"},"borderColor","#4E5167"),div1:{display:"flex",direction:"row",alignItems:"center"}}});Object(_.a)(function(e){return{card:{width:"100%"},avatar:{backgroundColor:Wt.a[500]}}});var _t=Object(_.a)(function(e){var t;return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",display:"column",justifyContent:"center",color:e.palette.text.secondary,width:"90%",margin:"0 auto"},textField:{borderColor:"#4E5167",color:"#4E5167",outlineColor:"#4E5167","&:hover":{color:"#4E5167"}},typography:(t={fontSize:"1.5em",color:"#4E5167"},Object(M.a)(t,"fontSize","2em"),Object(M.a)(t,"fontFamily","Quicksand"),t),typoStar:{paddingRight:"10px"},chip:{margin:e.spacing(1),backgroundColor:ae.a[100]},button:{color:"#4E5167",borderColor:"#4E5167"},deletedButton:{backgroundColor:"red",color:"white"},div:{display:"flex",justifyContent:"left",marginRight:"auto"},div1:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},div2:{display:"flex",justifyContent:"center",alignItems:"center"},div3:{display:"flex",justifyContent:"left",marginRight:"auto"},div4:{display:"flex",direction:"row",alignItems:"center"},div5:{width:"100%",height:"15px"},titleInput:{fontFamily:"Quicksand",fontSize:"2em",color:"#4E5167"},descriptionInput:{width:"50%"}}});function Qt(e){var t,a,n=_t(),l=e.collection,i=l.id,o=l.title,c=l.description,s=l.bookmarks,u=l.tags,d=l.publishedTime,p=l.state,E=r.a.useState(""),f=Object(H.a)(E,2),g=f[0],v=f[1],b=r.a.useState(o),h=Object(H.a)(b,2),y=h[0],S=h[1],O=r.a.useState(c),w=Object(H.a)(O,2),x=w[0],N=w[1],D=r.a.useState(p),P=Object(H.a)(D,2),U=P[0],T=P[1],A=r.a.useState(d),$=Object(H.a)(A,2),L=$[0],F=$[1],B=r.a.useState(!1),R=Object(H.a)(B,2),z=R[0],q=R[1],M=r.a.useState(!1),V=Object(H.a)(M,2),W=V[0],_=V[1];r.a.useEffect(function(){T(e.collection.state),S(e.collection.title),N(e.collection.description),F(e.collection.publishedTime)},[e.collection.state,e.collection.title,e.collection.description,e.collection.publishedTime]);var Q=function(e){v(e.target.value),_(!0)},G=function(e){S(e.target.value),_(!0)},J=function(e){N(e.target.value),_(!0)},X=function(e){q(!0),_(!0)},Y=function(){if(U===ye.PUBLISHED&&(F(null),T(ye.PRIVATE)),U===ye.PRIVATE){var e=new Date;F(e.toLocaleString()),T(ye.PUBLISHED)}_(!0)},K=function(n){console.log(i,U,y,x,L),console.log(z),t({variables:{collectionId:i.toString(),title:y,description:x,state:U,publishedTime:L}}),z&&a({variables:{collectionId:i.toString()}}),e.onSaveUpdate(),_(!1)};return r.a.createElement("div",{style:{width:"100%"},className:n.root},r.a.createElement(m.b,{mutation:Je},function(l){return t=l,r.a.createElement(m.b,{mutation:et},function(t){return a=t,r.a.createElement(Ce.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},r.a.createElement(Ce.a,{container:!0,xs:12,sm:12},r.a.createElement(je.a,{className:n.paper},r.a.createElement(Ce.a,{item:!0,xs:12},r.a.createElement("div",{className:n.div1},r.a.createElement("div",{className:n.div},r.a.createElement(j.a,{value:y,InputProps:{classes:{input:n.titleInput}},onChange:G})),r.a.createElement(j.a,{id:"outlined-search",placeholder:"Search in Collection",type:"search",className:n.textField,margin:"normal",variant:"outlined",InputProps:{startAdornment:r.a.createElement(I.a,null," ",r.a.createElement(C.a,null)," ")},InputLabelProps:{shrink:!0},onChange:Q,value:g})),r.a.createElement(te.a,{variant:"body2",color:"textSecondary",paragraph:!0},"Tags",u.map(function(e){return r.a.createElement(Z.a,{size:"small",label:e,clickable:!0,className:n.chip})}),r.a.createElement(ne.a,{variant:"middle"})),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Published Date "),r.a.createElement(te.a,{variant:"body1",color:"textPrimary",paragraph:!0},r.a.createElement("div",{className:n.div3},r.a.createElement("div",{className:n.div3}," ",d," "),r.a.createElement(ee.a,{title:"Make '".concat(o,"' go ").concat(U===ye.PRIVATE?"public":"private")},r.a.createElement(k.a,{variant:"outlined",size:"medium",className:n.button,onClick:Y},U===ye.PRIVATE?"Publish":"Archive")),r.a.createElement("div",{style:{marginLeft:"2%"}}),r.a.createElement(ee.a,{title:"Delete collection  '".concat(o,"'")},r.a.createElement(k.a,{variant:"outlined",size:"medium",className:z?n.deletedButton+" animated flash infinite":n.button,onClick:X},z?"Deleted!":"Delete")),r.a.createElement("div",{style:{marginLeft:"2%"}}),r.a.createElement(ee.a,{title:"Save changes to collection"},r.a.createElement("div",{className:W?"animated infinite flash slow":""},r.a.createElement(k.a,{variant:"outlined",size:"medium",className:n.button,onClick:K},"Save"))))),r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Description "),r.a.createElement(j.a,{value:x,onChange:J,className:n.descriptionInput,multiline:!0}),r.a.createElement("div",{className:n.div2},r.a.createElement("div",{className:n.div3}," ",r.a.createElement(te.a,{variant:"body2",color:"textSecondary"}," Bookmarks ")," "),r.a.createElement(Vt,{collectionId:i,onAddBookmark:e.onAddBookmark,collectionTitle:o})),r.a.createElement(lt,{filterStr:g,bookmarks:s,onDeleteBookmark:e.onDeleteBookmark,isSelf:!0})))))})}))}var Gt=a(885),Jt={avatar:{width:"260px",height:"260px"},icon:{fontSize:"20px"},list:{maxHeight:"70%",width:"80%",overflow:"auto",marginBottom:"10%"},listItem:{fontSize:"18px",fontFamily:"Quicksand",fontWeight:"100",marginLeft:"10%"},listItemIcon:{marginRight:"10%"},listItemText:{width:"50%"},listItemNum:{marginRight:"10%",marginLeft:"auto",color:"rgb(183, 183, 183)"},leftAlign:{marginRight:"auto",marginLeft:"50px"},button:{width:"80%",margin:"0 auto",fontWeight:"100",backgroundColor:"rgb(239, 239, 239)"},textField:{width:"80%",marginBottom:"10px"}},Xt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={userID:a.props.id?a.props.id:a.props.location.id,currCollectionId:void 0,open:{private:!0,published:!1,favorite:!1},favoriteCollectionId:""},a.chooseCollection=function(e){a.setState({currCollectionId:e})},a.handleOpen=function(e){var t=a.state.open;t[e]=!t[e],a.setState({open:t})},a.onImport=function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(){var e=Object(dt.a)(ut.a.mark(function e(t){var r,l;return ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.result,l=Tt(r),e.next=4,a.importCollectionsFunc({variables:{userID:a.state.userID,collections:l}});case 4:a.refetch();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t)},a.onExport=function(e){var t=function(e){var t='<!DOCTYPE NETSCAPE-Bookmark-file-1><HTML><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8"><Title>Bookmarks</Title><H1>Bookmarks</H1>';return e.forEach(function(e){t+="<DT><H3 FOLDED>".concat(e.title,"</H3><DL><p>"),e.bookmarks.forEach(function(e){t+='<DT><A HREF="'.concat(e.url,'">').concat(e.title,"</A>")}),t+="</DL><p>"}),t+="</HTML>"}(e),a=new Blob([t],{type:"text/plain;charset=utf-8"});Gt.saveAs(a,"bookmark.html")},a.hanleAddCollection=function(e){console.log(e.target),a.setState({favoriteCollectionId:e.target.value})},a.onAddCollection=function(e){console.log("Add collection"),console.log("userID",a.state.userID),console.log("collection",e),a.addCollectionFunc({variables:{userID:a.state.userID}}),a.refetch()},a.onDeleteBookmark=function(){console.log("delete bookmark"),a.refetch()},a.onAddBookmark=function(){a.refetch()},a.onClickStore=function(){a.refetch()},a.onSaveUpdate=function(){console.log("updated!"),a.refetch()},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.refetch&&this.refetch()}},{key:"render",value:function(){var e=this;console.log("in myprogile",this.props.id);var t=this.props.id?this.props.id:this.props.location.id;return r.a.createElement(m.c,{query:z,variables:{userID:t}},function(t){var a=t.loading,n=t.error,l=t.data,i=(t.subscribeToMore,t.refetch);if(console.log("data",l),e.refetch=i,a)return r.a.createElement("p",null,"Loading...");if(n)return r.a.createElement("p",null,"Error :(((");var o=l.user,c=o.name,s=o.avatar,u=o.collections;console.log(u);var d,p=u.filter(function(e){return e.state===ye.PRIVATE}),E=u.filter(function(e){return e.state===ye.PUBLISHED}),f=u.filter(function(e){return e.state===ye.FAVORITE}),g=u.find(function(t){return t.id===e.state.currCollectionId});return g?g&&(d=g.state===ye.FAVORITE?r.a.createElement(ot,{onClickStore:e.onClickStore,whoAmI:"Me",collection:g}):r.a.createElement(Qt,{collection:g,onDeleteBookmark:e.onDeleteBookmark,onAddBookmark:e.onAddBookmark,onSaveUpdate:e.onSaveUpdate})):d=r.a.createElement("div",null),r.a.createElement("div",{className:"UserProfile animated fadeIn slow"},r.a.createElement("div",{className:"UserProfile-flex-container"},r.a.createElement("div",{className:"UserProfile-margin-block"}),r.a.createElement("div",{className:"UserProfile-left"},r.a.createElement("div",{className:"inner-container"},s?r.a.createElement(y.a,{src:s,style:Jt.avatar}):r.a.createElement(y.a,{style:Jt.avatar},r.a.createElement(le.a,{style:Jt.avatar})),r.a.createElement("div",{className:"follows-container"},r.a.createElement("div",{className:"top-block"},c),r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement(Oe.a,{style:Jt.icon})),r.a.createElement("div",{style:Jt.leftAlign},u.length," collections")),r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement(Oe.a,{style:Jt.icon})),r.a.createElement("div",{style:Jt.leftAlign},p.length," private")),r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement(Oe.a,{style:Jt.icon})),r.a.createElement("div",{style:Jt.leftAlign},E.length," published")),r.a.createElement("div",{className:"block"},r.a.createElement("div",null,r.a.createElement(Oe.a,{style:Jt.icon})),r.a.createElement("div",{style:Jt.leftAlign},f.length," favorite")))),r.a.createElement("div",{className:"public-card-container"},d)),r.a.createElement("div",{className:"UserProfile-right"},r.a.createElement("div",{className:"top-block"},"Collections"),r.a.createElement(ue.a,{style:Jt.list},r.a.createElement(de.a,{button:!0,onClick:function(){return e.handleOpen("private")}},r.a.createElement(ht.a,{style:Jt.listItemIcon})," Private",e.state.open.private?r.a.createElement(Ct.a,null):r.a.createElement(oe.a,null)),r.a.createElement(K.a,{in:e.state.open.private,timeout:"auto",unmountOnExit:!0},r.a.createElement(ue.a,null,p.map(function(t,a){return r.a.createElement(de.a,{button:!0,key:a,style:Jt.listItem,onClick:function(){return e.chooseCollection(t.id)}},r.a.createElement("div",{style:Jt.listItemText},t.title),r.a.createElement("div",{style:Jt.listItemNum},t.bookmarks.length))}))),r.a.createElement(de.a,{button:!0,onClick:function(){return e.handleOpen("published")}},r.a.createElement(kt.a,{style:Jt.listItemIcon})," Published",e.state.open.published?r.a.createElement(Ct.a,null):r.a.createElement(oe.a,null)),r.a.createElement(K.a,{in:e.state.open.published,timeout:"auto",unmountOnExit:!0},r.a.createElement(ue.a,null,E.map(function(t,a){return r.a.createElement(de.a,{button:!0,key:a,style:Jt.listItem,onClick:function(){return e.chooseCollection(t.id)}},r.a.createElement("div",{style:Jt.listItemText},t.title),r.a.createElement("div",{style:Jt.listItemNum},t.bookmarks.length))}))),r.a.createElement(de.a,{button:!0,onClick:function(){return e.handleOpen("favorite")}},r.a.createElement(vt.a,{style:Jt.listItemIcon}),"Favorite",e.state.open.favorite?r.a.createElement(Ct.a,null):r.a.createElement(oe.a,null)),r.a.createElement(K.a,{in:e.state.open.favorite,timeout:"auto",unmountOnExit:!0},r.a.createElement(ue.a,null,f.map(function(t,a){return r.a.createElement(de.a,{button:!0,key:a,style:Jt.listItem,onClick:function(){return e.chooseCollection(t.id)}},r.a.createElement("div",{style:Jt.listItemText},t.title),r.a.createElement("div",{style:Jt.listItemNum},t.bookmarks.length))})))),r.a.createElement(m.b,{mutation:Ke},function(t){return e.importCollectionsFunc=t,r.a.createElement("div",{style:{width:"100%",marginBottom:"10px"}},r.a.createElement("input",{type:"file",accept:".html",style:{display:"none"},id:"import-bookmarks",onChange:e.onImport}),r.a.createElement("label",{htmlFor:"import-bookmarks"},r.a.createElement(k.a,{style:Jt.button},"Import Bookmarks",r.a.createElement(Nt.a,{style:{marginLeft:"10%"}}))))}),r.a.createElement("div",{style:{width:"100%",marginBottom:"10px"}},r.a.createElement(k.a,{onClick:function(){return e.onExport(u)},style:Jt.button},"Export Bookmarks",r.a.createElement(wt.a,{style:{marginLeft:"10%"}}))),r.a.createElement(m.b,{mutation:Ze},function(t){return e.addCollectionFunc=t,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{width:"100%",marginBottom:"10px"}},r.a.createElement(k.a,{onClick:function(t){return e.onAddCollection()},style:Jt.button},"Create New Collection",r.a.createElement(St.a,{style:{marginLeft:"10%"}}))))}))))})}}]),t}(r.a.Component),Yt=a(277),Kt=a.n(Yt),Zt=Object(_.a)({card:{width:"100%",marginBottom:"10px",height:"120px"},avatar:{marginTop:"1rem",marginBottom:"1rem",marginLeft:"1rem",marginRight:"1rem",height:"4rem",width:"4rem"},icon:{fontSize:"100px"},iconButton:{width:"60px",height:"60px",marginTop:"30px",marginBottom:"30px",border:"1px solid rgb(224, 224, 224)"},link:{color:"rgb(173, 173, 173)"}});function ea(e){var t=Zt(),a=e.currentUserId,n=e.user,l=n.avatar?r.a.createElement(y.a,{className:t.avatar,src:n.avatar}):r.a.createElement(y.a,{className:t.avatar},r.a.createElement(le.a,{className:t.icon}));return r.a.createElement(m.c,{query:R,variables:{userID:n.id}},function(e){var i=e.data,c=0;return i.user&&(c=i.user.collections.filter(function(e){return e.state===ye.PUBLISHED}).length),r.a.createElement(G.a,{className:t.card},r.a.createElement(X.a,null,r.a.createElement("div",{className:"flex-container"},r.a.createElement("div",null,l),r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"user-name"}," ",n.name," "),r.a.createElement("div",{className:"user-collections"},c," collections")),r.a.createElement("div",{className:"button-container animated pulse infinite"},r.a.createElement(I.a,{className:t.iconButton},a===n.id?r.a.createElement(o.b,{to:"/myprofile",className:t.link},r.a.createElement(Kt.a,null)):r.a.createElement(o.b,{to:"/user/".concat(n.id),className:t.link},r.a.createElement(Kt.a,null)))))))})}a(886);var ta=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUserId,a=e.searchStr;return r.a.createElement(m.c,{query:q,variables:{name:a}},function(e){e.loading,e.error;var n=e.data;e.subscribeToMore,e.refetch;return console.log(a),console.log("result",n),r.a.createElement("div",{className:"page animated fadeIn slow"},r.a.createElement("div",{className:"title-container"},"Search Results"),r.a.createElement("div",{className:"lower-container"},n.users?n.users.map(function(e,a){return r.a.createElement(ea,{currentUserId:t,user:e,key:a})}):r.a.createElement("div",null)))})}}]),t}(r.a.Component),aa={button:{backgroundColor:"rgb(239, 239, 239)",height:"54px",width:"15%",marginLeft:"1%",marginRight:"1%",fontFamily:"Quicksand"},link:{textDecoration:"none",color:"black"},buttonLink:{color:"rgb(173, 173, 173)"},avatar:{marginLeft:"2%",marginRight:"5%",width:"54px",height:"54px"},textField:{width:"100%"}},na=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={searchValue:""},a.handleSearchChange=function(e){a.setState({searchValue:e.target.value})},a.clickSearch=function(){},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.userID),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(y.a,{src:"images/icon.jpg",style:aa.avatar}),r.a.createElement(k.a,{style:aa.button},r.a.createElement(o.b,{to:"/feeds",style:aa.link},"Feeds")),r.a.createElement(k.a,{style:aa.button},r.a.createElement(o.b,{to:"/myprofile",style:aa.link},"My Profile")),r.a.createElement(k.a,{style:aa.button,onClick:this.props.onLogout},r.a.createElement(o.b,{to:"/",style:aa.link},"Logout")),r.a.createElement("div",{className:"App-input"},r.a.createElement(j.a,{label:"Search...",variant:"outlined",style:aa.textField,value:this.state.searchValue,onChange:this.handleSearchChange,InputProps:{endAdornment:r.a.createElement(S.a,null,r.a.createElement(I.a,{onClick:this.clickSearch},r.a.createElement(o.b,{style:aa.buttonLink,to:"/search"},r.a.createElement(C.a,null))))}}))),r.a.createElement(me.d,null,r.a.createElement(me.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(ke,Object.assign({id:e.props.userID},t))}}),r.a.createElement(me.b,{exact:!0,path:"/feeds",render:function(t){return r.a.createElement(ke,Object.assign({id:e.props.userID},t))}}),r.a.createElement(me.b,{exact:!0,path:"/myprofile",render:function(t){return r.a.createElement(Xt,Object.assign({id:e.props.userID},t))}}),r.a.createElement(me.b,{exact:!0,path:"/user/:id",render:function(t){return r.a.createElement(st,Object.assign({currentUserId:e.props.userID},t))}}),r.a.createElement(me.b,{exact:!0,path:"/search",render:function(t){return r.a.createElement(ta,Object.assign({searchStr:e.state.searchValue,currentUserId:e.props.userID},t))}})))}}]),t}(r.a.Component),ra=(a(409),a(410)),la={button:{width:"100%",fontFamily:"Quicksand",fontWeight:"100",fontSize:"15px"},link:{textDecoration:"none",color:"black"}},ia=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",emptyEmail:!1,emptyPassword:!1,invalidEmail:!1,loginStatus:"LOGGED_OUT"},a.onEmailInput=function(e){a.setState({email:e.target.value.trim()}),e.target.value.length>0&&a.setState({emptyEmail:!1})},a.onPasswordInput=function(e){a.setState({password:e.target.value}),e.target.value.length>0&&a.setState({emptyPassword:!1})},a.handleLogin=function(){a.validateForm()&&a.loginCheckFunc({variables:{email:a.state.email,password:a.state.password}})},a.validateForm=function(){return 0===a.state.email.length?a.setState({emptyEmail:!0}):ra.isEmail(a.state.email)?a.setState({invalidEmail:!1}):a.setState({invalidEmail:!0}),0===a.state.password.length&&a.setState({emptyPassword:!0}),a.state.email.length>0&&a.state.password.length>0&&ra.isEmail(a.state.email)},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(m.b,{mutation:_e},function(t,a){var n=a.data;e.loginCheckFunc=t;var l=null;return n&&("SUCCESS"===n.loginCheck.status?e.props.onLogin(n.loginCheck.id):l=n.loginCheck.status),r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"input-container animated slideInDown"},r.a.createElement(x,{label:"Email",value:e.state.email,handleChange:e.onEmailInput})),r.a.createElement("div",null,e.state.emptyEmail?r.a.createElement("div",{className:"warning"},"Email should not be empty!"):e.state.invalidEmail?r.a.createElement("div",{className:"warning"},"Invalid email format!"):"EMAIL_UNEXIST_ERROR"===l?r.a.createElement("div",{className:"warning"},"Email does not exist!"):r.a.createElement("div",null)),r.a.createElement("div",{className:"input-container animated slideInDown"},r.a.createElement(x,{label:"Password",value:e.state.password,handleChange:e.onPasswordInput})),r.a.createElement("div",null,e.state.emptyPassword?r.a.createElement("div",{className:"warning"},"Password should not be empty!"):"PASSWORD_UNMATCH_ERROR"===l?r.a.createElement("div",{className:"warning"},"Wrong password!"):r.a.createElement("div",null)),r.a.createElement("div",{className:"animated slideInUp"},r.a.createElement("div",{className:"button-container animated pulse infinite"},r.a.createElement(k.a,{style:la.button,onClick:e.handleLogin},"Login"))))})}}]),t}(r.a.Component),oa=a(410),ca={button:{width:"100%",fontFamily:"Quicksand",fontWeight:"100",fontSize:"15px"},avatar:{width:"200px",height:"200px"}},sa=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",email:"",emptyUsername:!1,emptyPassword:!1,emptyEmail:!1,invalidEmail:!1,imageUrl:"",dataUrl:"",successfulRegister:!1},a.onUserInput=function(e){a.setState({username:e.target.value}),e.target.value.length>0&&a.setState({emptyUsername:!1})},a.onPasswordInput=function(e){a.setState({password:e.target.value}),e.target.value.length>0&&a.setState({emptyPassword:!1})},a.onEmailInput=function(e){a.setState({email:e.target.value}),e.target.value.length>0&&a.setState({emptyEmail:!1})},a.handleRegister=function(){console.log("handling register"),a.validateForm()&&(console.log("register!"),a.setState({successfulRegister:!0}),a.createUserFunc({variables:{id:Pt()(),name:a.state.username,password:a.state.password,email:a.state.email,avatar:a.state.dataUrl}}),console.log(a.state))},a.validateForm=function(){return 0===a.state.username.length&&a.setState({emptyUsername:!0}),0===a.state.password.length&&a.setState({emptyPassword:!0}),0===a.state.email.length?a.setState({emptyEmail:!0}):a.setState({invalidEmail:!oa.isEmail(a.state.email)}),a.state.username.length>0&&a.state.password.length>0&&a.state.email.length>0&&oa.isEmail(a.state.email)},a.onUpload=function(e){var t=e.target.files[0];a.setState({imageUrl:URL.createObjectURL(t)});var n=new FileReader;n.addEventListener("load",function(){a.setState({dataUrl:n.result})}),n.readAsDataURL(t)},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(m.b,{mutation:Qe},function(t,a){var n=a.data;e.createUserFunc=t;var l=!1;return n&&(l="DUPLICATE_EMAIL_ERROR"===n.createUser.status),e.state.successfulRegister&&n&&!l?r.a.createElement(me.a,{to:"/"}):r.a.createElement("div",{className:"register-box"},r.a.createElement("div",{className:"animated fadeIn delay-2s",style:{width:"200px",margin:"0 auto",marginBottom:"5vh"}},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"upload",type:"file",onChange:e.onUpload}),r.a.createElement("label",{htmlFor:"upload",className:"image-upload"},""===e.state.imageUrl?r.a.createElement(y.a,{style:ca.avatar},r.a.createElement(le.a,{style:{fontSize:"200px"}})):r.a.createElement(y.a,{style:ca.avatar,src:e.state.dataUrl}))),r.a.createElement("div",{className:"input-container animated slideInDown"},r.a.createElement(x,{label:"Username",value:e.state.username,handleChange:e.onUserInput})),r.a.createElement("div",null,e.state.emptyUsername?r.a.createElement("div",{className:"warning"},"Username should not be empty!"):r.a.createElement("div",null)),r.a.createElement("div",{className:"input-container animated slideInDown"},r.a.createElement(x,{label:"Password",value:e.state.password,handleChange:e.onPasswordInput})),r.a.createElement("div",null,e.state.emptyPassword?r.a.createElement("div",{className:"warning"},"Password should not be empty!"):r.a.createElement("div",null)),r.a.createElement("div",{className:"input-container animated slideInDown"},r.a.createElement(x,{label:"Email",value:e.state.email,handleChange:e.onEmailInput})),r.a.createElement("div",null,e.state.emptyEmail?r.a.createElement("div",{className:"warning"},"Email should not be empty!"):e.state.invalidEmail?r.a.createElement("div",{className:"warning"},"Invalid email format!"):l?r.a.createElement("div",{className:"warning"},"Email has already been taken!"):r.a.createElement("div",null)),r.a.createElement("div",{className:"animated slideInUp"},r.a.createElement("div",{className:"button-container animated pulse infinite"},r.a.createElement(k.a,{onClick:function(){return e.handleRegister()},style:ca.button},"Register"))))})}}]),t}(r.a.Component),ma=(a(948),{button:{width:"50%",fontFamily:"Quicksand",fontWeight:"100",fontSize:"15px"},link:{textDecoration:"none",color:"black"},avatar:{width:"10em",height:"10em"}}),ua=function(e){function t(){return Object(f.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"icon-title-container"},r.a.createElement("div",{className:"icon"},r.a.createElement(y.a,{style:ma.avatar,src:"/images/icon.jpg"})),r.a.createElement("div",{className:"title"}," Ethereal "),r.a.createElement("div",{className:"subtitle"},"Manage your bookmarks with grace."));return r.a.createElement("body",{className:"body-container"},r.a.createElement("div",{className:"LoginRegister animated fadeIn"},r.a.createElement("div",{className:"left-container"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"button"},r.a.createElement(k.a,{style:ma.button},r.a.createElement(o.b,{to:"/login",style:ma.link},"Login"))),r.a.createElement("div",{className:"button"},r.a.createElement(k.a,{style:ma.button},r.a.createElement(o.b,{to:"/register",style:ma.link},"Register")))),r.a.createElement(me.b,{exact:!0,path:"/",render:function(e){return t}}),r.a.createElement(me.b,{exact:!0,path:"/login",render:function(e){return t}}),r.a.createElement("div",{className:"form"},r.a.createElement(me.d,null,r.a.createElement(me.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(ia,Object.assign({},t,{onLogin:e.props.onLogin}))}}),r.a.createElement(me.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(ia,Object.assign({},t,{onLogin:e.props.onLogin}))}}),r.a.createElement(me.b,{exact:!0,path:"/register",render:function(e){return r.a.createElement(sa,e)}})))),r.a.createElement("div",{className:"right-container"},r.a.createElement("img",{src:"/images/web_final_login.jpg"}))))}}]),t}(r.a.Component),da=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).onLogout=function(){console.log("you logged out!"),a.setState({loggedIn:!1}),sessionStorage.setItem("login","false"),console.log("After logout: ",sessionStorage.getItem("login"))},a.onLogin=function(e){console.log("you logged in!"),a.setState({loggedIn:!0,userID:e}),sessionStorage.setItem("login","true"),sessionStorage.setItem("userID",e),console.log("After login: ",sessionStorage.getItem("login"))},a.state={loggedIn:!1,userID:null},a}return Object(h.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=sessionStorage.getItem("login"),t=sessionStorage.getItem("userID");return console.log(e),"true"===e?r.a.createElement(na,{userID:t,onLogout:this.onLogout}):r.a.createElement(ua,{onLogin:this.onLogin})}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pa=new d.a({uri:"http://localhost:4000/"}),Ea=new p.a({uri:"ws://localhost:4000/",options:{reconnect:!0}}),fa=Object(u.d)(function(e){var t=e.query,a=Object(E.l)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation},Ea,pa),ga=new c.a({link:fa,cache:(new s.a).restore({})}),va=r.a.createElement(m.a,{client:ga},r.a.createElement(o.a,null,r.a.createElement(da,null)));i.a.render(va,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[464,1,2]]]);
//# sourceMappingURL=main.93c078b4.chunk.js.map